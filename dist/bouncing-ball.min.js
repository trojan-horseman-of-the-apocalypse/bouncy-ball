const canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),g=.981,fac=.8,radius=20,state=[];function drawBall(t,e,a){context.clearRect(e-20,a-20,40,40),context.beginPath(),context.arc(t.x,t.y,20,0,2*Math.PI,!0),context.closePath(),context.fill()}function update(t){const e=t.x,a=t.y,n=t;n.vy+=g,n.x+=n.vx,n.y+=n.vy,n.y>canvas.height-20&&(n.y=canvas.height-20,n.remainingBounces>0?(n.vy*=-.8,n.remainingBounces-=1):(n.vy=0,n.vx=0)),drawBall(n,e,a)}window.onload=document.getElementById("canvas").addEventListener("click",(t=>{let e=Math.floor(15*Math.random()),a=Math.floor(15*Math.random());const n=Math.floor(2*Math.random());0===n&&(e=-e),0===n&&(a=-a),state.push({x:t.offsetX,y:t.offsetY,vx:e,vy:a,remainingBounces:30}),1===state.length&&setInterval((()=>{for(let t=0;t<state.length;t+=1)update(state[t])}),1e3/60)}));
